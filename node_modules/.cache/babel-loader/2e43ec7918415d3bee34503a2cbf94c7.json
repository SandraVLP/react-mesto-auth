{"ast":null,"code":"import React,{useState}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){function handleClick(){props.onCardClick(props.card);}function handleLikeClick(){props.onCardLike(props.card);}function handleDeleteClick(){props.onCardDelete(props.card);}var currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=props.card.owner._id===(currentUser===null||currentUser===void 0?void 0:currentUser._id);// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"element__basket \".concat(!isOwn&&'element__basket_hidden');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=props.card.likes.some(function(i){return i._id===(currentUser===null||currentUser===void 0?void 0:currentUser._id);});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__heart \".concat(isOwn&&'element__heart_hidden',\" \").concat(isLiked&&'element__heart_active');return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"element__image\",src:props.card.link,alt:props.card.name,onClick:handleClick}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardDeleteButtonClassName,onClick:handleDeleteClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__text\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__title\",children:props.card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-count\",children:props.card.likes.length})]})]})]})});}export default Card;","map":{"version":3,"names":["React","useState","CurrentUserContext","Card","props","handleClick","onCardClick","card","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length"],"sources":["/Users/aleksandrapetuhova/dev/react-mesto-auth/src/components/Card.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n      props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n}\n\n  const currentUser = React.useContext(CurrentUserContext);\n// Определяем, являемся ли мы владельцем текущей карточки\nconst isOwn = props.card.owner._id === currentUser?._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\nconst cardDeleteButtonClassName = (\n  `element__basket ${!isOwn && 'element__basket_hidden'}`\n);\n\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nconst isLiked = props.card.likes.some(i => i._id === currentUser?._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\nconst cardLikeButtonClassName = `element__heart ${isOwn && 'element__heart_hidden'} ${isLiked && 'element__heart_active'}`;\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"element\">\n      <img\n        className=\"element__image\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <div className=\"element__text\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__likes\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <p className=\"element__like-count\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default Card;\n"],"mappings":"AACA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,KAAT,CAAcC,KAAd,CAAqB,CACnB,QAASC,YAAT,EAAuB,CACrBD,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACG,IAAxB,EACD,CAED,QAASC,gBAAT,EAA2B,CACvBJ,KAAK,CAACK,UAAN,CAAiBL,KAAK,CAACG,IAAvB,EACH,CAED,QAASG,kBAAT,EAA6B,CAC3BN,KAAK,CAACO,YAAN,CAAmBP,KAAK,CAACG,IAAzB,EACH,CAEC,GAAMK,YAAW,CAAGZ,KAAK,CAACa,UAAN,CAAiBX,kBAAjB,CAApB,CACF;AACA,GAAMY,MAAK,CAAGV,KAAK,CAACG,IAAN,CAAWQ,KAAX,CAAiBC,GAAjB,IAAyBJ,WAAzB,SAAyBA,WAAzB,iBAAyBA,WAAW,CAAEI,GAAtC,CAAd,CAEA;AACA,GAAMC,0BAAyB,2BACV,CAACH,KAAD,EAAU,wBADA,CAA/B,CAIA;AACA,GAAMI,QAAO,CAAGd,KAAK,CAACG,IAAN,CAAWY,KAAX,CAAiBC,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,EAAC,CAACL,GAAF,IAAUJ,WAAV,SAAUA,WAAV,iBAAUA,WAAW,CAAEI,GAAvB,CAAJ,EAAvB,CAAhB,CAEA;AACA,GAAMM,wBAAuB,0BAAqBR,KAAK,EAAI,uBAA9B,aAAyDI,OAAO,EAAI,uBAApE,CAA7B,CAEE,mBACE,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAEN,WAApC,uBACA,aAAK,SAAS,CAAC,SAAf,wBACE,YACE,SAAS,CAAC,gBADZ,CAEE,GAAG,CAAER,KAAK,CAACG,IAAN,CAAWgB,IAFlB,CAGE,GAAG,CAAEnB,KAAK,CAACG,IAAN,CAAWiB,IAHlB,CAIE,OAAO,CAAEnB,WAJX,EADF,cAOE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAEY,yBAAjC,CAA4D,OAAO,CAAEP,iBAArE,EAPF,cAQE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,UAAgCN,KAAK,CAACG,IAAN,CAAWiB,IAA3C,EADF,cAEE,aAAK,SAAS,CAAC,gBAAf,wBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAEF,uBAAjC,CAA0D,OAAO,CAAEd,eAAnE,EADF,cAEE,UAAG,SAAS,CAAC,qBAAb,UAAoCJ,KAAK,CAACG,IAAN,CAAWY,KAAX,CAAiBM,MAArD,EAFF,GAFF,GARF,GADA,EADF,CAoBD,CAED,cAAetB,KAAf"},"metadata":{},"sourceType":"module"}