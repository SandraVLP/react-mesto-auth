{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandrapetuhova/dev/react-mesto-auth/src/components/Login.js\";\nimport React from \"react\"; // import { useNavigate } from 'react-router-dom';\n\nimport InfoTooltip from \"./InfoTooltip\";\nimport iconDenied from \"../images/denied.svg\";\nimport * as auth from \"../auth.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      tipOpen: false,\n      errorMessage: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleTipClose() {\n    this.setState({\n      tipOpen: false\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault(); // здесь обрабатываем вход в систему\n\n    if (!this.state.email || this.state.password) {\n      this.setState({\n        errorMessage: \"Что-то пошло не так! Попробуйте ещё раз\",\n        tipOpen: true\n      });\n    }\n\n    if (!this.state.email || !this.state.password) {\n      return;\n    }\n\n    auth.authorize(this.state.email, this.state.password).then(data => {\n      if (data.token) {\n        this.setState({\n          email: \"\",\n          password: \"\"\n        }, () => {\n          this.props.onLoginSuccess();\n        });\n      }\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"login__welcome\",\n          children: \"\\u0412\\u0445\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          className: \"login__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            className: \"login__input\",\n            placeholder: \"Email\",\n            id: \"email\",\n            name: \"email\",\n            type: \"email\",\n            value: this.state.email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            className: \"login__input\",\n            placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n            id: \"password\",\n            name: \"password\",\n            type: \"password\",\n            value: this.state.password,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__button-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"login__link\",\n              children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), this.state.tipOpen && /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: this.state.tipOpen,\n        name: \"tip \",\n        onClose: () => this.handleTipClose(),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"popup__icon\",\n          src: iconDenied,\n          alt: \"Неудача\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"popup__icon-title\",\n          children: this.state.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","InfoTooltip","iconDenied","auth","Login","Component","constructor","props","state","email","password","tipOpen","errorMessage","handleChange","bind","handleSubmit","e","name","value","target","setState","handleTipClose","preventDefault","authorize","then","data","token","onLoginSuccess","catch","err","console","log","render"],"sources":["/Users/aleksandrapetuhova/dev/react-mesto-auth/src/components/Login.js"],"sourcesContent":["import React from \"react\";\n// import { useNavigate } from 'react-router-dom';\nimport InfoTooltip from \"./InfoTooltip\";\nimport iconDenied from \"../images/denied.svg\";\nimport * as auth from \"../auth.js\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      tipOpen: false,\n      errorMessage: null,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleTipClose() {\n    this.setState({ tipOpen: false });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    // здесь обрабатываем вход в систему\n    if (!this.state.email || this.state.password) {\n      this.setState({\n        errorMessage: \"Что-то пошло не так! Попробуйте ещё раз\",\n        tipOpen: true,\n      });\n    }\n    if (!this.state.email || !this.state.password) {\n      return;\n    }\n    auth\n      .authorize(this.state.email, this.state.password)\n      .then((data) => {\n        if (data.token) {\n          this.setState({ email: \"\", password: \"\" }, () => {\n            this.props.onLoginSuccess();\n          });\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n  render() {\n    return (\n      <>\n        <div className=\"login\">\n          <p className=\"login__welcome\">Вход</p>\n          <form onSubmit={this.handleSubmit} className=\"login__form\">\n            <input\n              required\n              className=\"login__input\"\n              placeholder=\"Email\"\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange}\n            />\n            <input\n              required\n              className=\"login__input\"\n              placeholder=\"Пароль\"\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n            />\n            <div className=\"login__button-container\">\n              <button type=\"submit\" className=\"login__link\">\n                Войти\n              </button>\n            </div>\n          </form>\n        </div>\n        {this.state.tipOpen && (\n          <InfoTooltip\n            isOpen={this.state.tipOpen}\n            name=\"tip \"\n            onClose={() => this.handleTipClose()}\n          >\n            <img className=\"popup__icon\" src={iconDenied} alt={\"Неудача\"} />\n            <p className=\"popup__icon-title\">{this.state.errorMessage}</p>\n          </InfoTooltip>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}