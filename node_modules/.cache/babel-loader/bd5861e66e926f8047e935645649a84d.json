{"ast":null,"code":"import _slicedToArray from\"/Users/aleksandrapetuhova/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"./CurrentUserContext\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){// Подписка на контекст\nvar currentUser=React.useContext(CurrentUserContext);var _useState=useState(currentUser===null||currentUser===void 0?void 0:currentUser.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(currentUser===null||currentUser===void 0?void 0:currentUser.about),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popup_edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",submitname:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"fieldset\",{className:\"popup__fieldset\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:name,onChange:handleChangeName,id:\"username\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",className:\"popup__profile popup__profile_title popup__input\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"username-error\",className:\"popup__input-error\"})]}),/*#__PURE__*/_jsx(\"fieldset\",{className:\"popup__fieldset\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:description,onChange:handleChangeDescription,id:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",className:\"popup__profile popup__profile_subtitle popup__input\",required:true})})]});}export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","CurrentUserContext","React","useState","EditProfilePopup","props","currentUser","useContext","name","setName","about","description","setDescription","useEffect","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","isOpen","onClose"],"sources":["/Users/aleksandrapetuhova/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"./CurrentUserContext\";\nimport React, { useState } from \"react\";\n\n\n\nfunction EditProfilePopup(props) {\n\n  \n    \n    // Подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = useState(currentUser?.name);\n    const [description, setDescription] = useState(currentUser?.about);\n    \n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n    \n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n      // Запрещаем браузеру переходить по адресу формы\n      e.preventDefault();\n    \n      // Передаём значения управляемых компонентов во внешний обработчик\n      props.onUpdateUser({\n        name,\n        about: description,\n      });\n    }\n    \n\n return (\n    <PopupWithForm\n    name=\"popup_edit\"\n    title=\"Редактировать профиль\"\n    submitname=\"Сохранить\"\n    isOpen={props.isOpen}\n    onClose={props.onClose}\n    onSubmit={handleSubmit}\n  >\n    <fieldset className=\"popup__fieldset\">\n      <input\n        type=\"text\"\n        name={name} onChange={handleChangeName}\n        id=\"username\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        className=\"popup__profile popup__profile_title popup__input\"\n        required\n      />\n      <span id=\"username-error\" className=\"popup__input-error\"></span>\n    </fieldset>\n    <fieldset className=\"popup__fieldset\">\n      <input\n        type=\"text\"\n        name={description} onChange={handleChangeDescription}\n        id=\"about\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        className=\"popup__profile popup__profile_subtitle popup__input\"\n        required\n      />\n    </fieldset>\n  </PopupWithForm>\n )\n}\n\nexport default EditProfilePopup;"],"mappings":"+HAAA,MAAOA,cAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,sBAAnC,CACA,MAAOC,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAIA,QAASC,iBAAT,CAA0BC,KAA1B,CAAiC,CAI7B;AACA,GAAMC,YAAW,CAAGJ,KAAK,CAACK,UAAN,CAAiBN,kBAAjB,CAApB,CACA,cAAwBE,QAAQ,CAACG,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAEE,IAAd,CAAhC,wCAAOA,IAAP,eAAaC,OAAb,eACA,eAAsCN,QAAQ,CAACG,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAEI,KAAd,CAA9C,yCAAOC,WAAP,eAAoBC,cAApB,eAEA;AACA;AACAV,KAAK,CAACW,SAAN,CAAgB,UAAM,CACpBJ,OAAO,CAACH,WAAW,CAACE,IAAb,CAAP,CACAI,cAAc,CAACN,WAAW,CAACI,KAAb,CAAd,CACD,CAHD,CAGG,CAACJ,WAAD,CAHH,EAKA,QAASQ,iBAAT,CAA0BC,CAA1B,CAA6B,CACzBN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAEH,QAASC,wBAAT,CAAiCH,CAAjC,CAAoC,CAChCH,cAAc,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAED,QAASE,aAAT,CAAsBJ,CAAtB,CAAyB,CACvB;AACAA,CAAC,CAACK,cAAF,GAEA;AACAf,KAAK,CAACgB,YAAN,CAAmB,CACjBb,IAAI,CAAJA,IADiB,CAEjBE,KAAK,CAAEC,WAFU,CAAnB,EAID,CAGJ,mBACG,MAAC,aAAD,EACA,IAAI,CAAC,YADL,CAEA,KAAK,CAAC,2HAFN,CAGA,UAAU,CAAC,wDAHX,CAIA,MAAM,CAAEN,KAAK,CAACiB,MAJd,CAKA,OAAO,CAAEjB,KAAK,CAACkB,OALf,CAMA,QAAQ,CAAEJ,YANV,wBAQA,kBAAU,SAAS,CAAC,iBAApB,wBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAEX,IAFR,CAEc,QAAQ,CAAEM,gBAFxB,CAGE,EAAE,CAAC,UAHL,CAIE,WAAW,CAAC,oBAJd,CAKE,SAAS,CAAC,GALZ,CAME,SAAS,CAAC,IANZ,CAOE,SAAS,CAAC,kDAPZ,CAQE,QAAQ,KARV,EADF,cAWE,aAAM,EAAE,CAAC,gBAAT,CAA0B,SAAS,CAAC,oBAApC,EAXF,GARA,cAqBA,iBAAU,SAAS,CAAC,iBAApB,uBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAEH,WAFR,CAEqB,QAAQ,CAAEO,uBAF/B,CAGE,EAAE,CAAC,OAHL,CAIE,WAAW,CAAC,iCAJd,CAKE,SAAS,CAAC,GALZ,CAME,SAAS,CAAC,KANZ,CAOE,SAAS,CAAC,qDAPZ,CAQE,QAAQ,KARV,EADF,EArBA,GADH,CAoCA,CAED,cAAed,iBAAf"},"metadata":{},"sourceType":"module"}